{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/utils.js","../src/main.js"],"sourcesContent":["export function fetchImages(searchQuery) {\n  const query = new URLSearchParams({\n    key: '50578458-599512b8a758686bbac6d0702',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${query.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Failed to fetch images. Status: ${response.status}`);\n      }\n\n      return response.json();\n    })\n    .then(data => data.hits);\n}\n","import SimpleLightbox from 'simplelightbox';\n\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nconst lightBox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\n\nexport function showLoader(visible) {\n  loader.classList[visible ? 'add' : 'remove']('visible');\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"gallery-item-info\">\n          <div class=\"gallery-item-info-item\">\n            <p class=\"gallery-item-info-title\">Likes</p>\n            <p class=\"gallery-item-info-value\">${likes}</p>\n          </div>\n          <div class=\"gallery-item-info-item\">\n            <p class=\"gallery-item-info-title\">Views</p>\n            <p class=\"gallery-item-info-value\">${views}</p>\n          </div>\n          <div class=\"gallery-item-info-item\">\n            <p class=\"gallery-item-info-title\">Comments</p>\n            <p class=\"gallery-item-info-value\">${comments}</p>\n          </div>\n          <div class=\"gallery-item-info-item\">\n            <p class=\"gallery-item-info-title\">Downloads</p>\n            <p class=\"gallery-item-info-value\">${downloads}</p>\n          </div>\n        </div>\n        </a>\n      </li>\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  gallery.scrollIntoView({\n    behavior: 'smooth',\n    block: 'end',\n  });\n\n  lightBox.refresh();\n}\n","import iziToast from 'izitoast';\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    message,\n    position: 'topRight',\n    class: 'error-message',\n    messageColor: '#fff',\n    iconColor: '#fff',\n    backgroundColor: '#EF4040',\n    progressBarColor: '#B51B1B',\n    maxWidth: 432,\n  });\n}\n\nexport function getSearchQuery(form) {\n  const { search } = Object.fromEntries(new FormData(form));\n\n  return search.trim();\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { clearGallery, renderImages, showLoader } from './js/render-functions';\nimport { getSearchQuery, showErrorMessage } from './js/utils';\n\nconst form = document.querySelector('.search-form');\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = getSearchQuery(event.currentTarget);\n\n  if (!searchQuery) {\n    showErrorMessage('The search query can not be empty!');\n\n    return;\n  }\n\n  form.reset();\n  clearGallery();\n  showLoader(true);\n\n  fetchImages(searchQuery)\n    .then(images => {\n      if (!images.length) {\n        showErrorMessage(\n          'Sorry, there are no images matching your search query. Please, try again!'\n        );\n        return;\n      }\n\n      renderImages(images);\n    })\n    .catch(error => {\n      showErrorMessage(\n        error.message || 'Failed to fetch images. Please, try again later!'\n      );\n      console.error(error);\n    })\n    .finally(() => showLoader(false));\n}\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["fetchImages","searchQuery","query","response","data","loader","gallery","lightBox","SimpleLightbox","showLoader","visible","clearGallery","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showErrorMessage","message","iziToast","getSearchQuery","form","search","onFormSubmit","event","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAa,CACvC,MAAMC,EAAQ,IAAI,gBAAgB,CAChC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,EAAM,SAAQ,CAAE,EAAE,EACxD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,mCAAmCA,EAAS,MAAM,EAAE,EAGtE,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,CAC3B,CChBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAEM,SAASC,EAAWC,EAAS,CAClCL,EAAO,UAAUK,EAAU,MAAQ,QAAQ,EAAE,SAAS,CACxD,CAEO,SAASC,GAAe,CAC7BL,EAAQ,UAAY,EACtB,CAEO,SAASM,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,iDAInBC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMrD,EACA,KAAK,EAAE,EAEVf,EAAQ,mBAAmB,YAAaQ,CAAM,EAE9CR,EAAQ,eAAe,CACrB,SAAU,SACV,MAAO,KACX,CAAG,EAEDC,EAAS,QAAO,CAClB,CCjEO,SAASe,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,WACV,MAAO,gBACP,aAAc,OACd,UAAW,OACX,gBAAiB,UACjB,iBAAkB,UAClB,SAAU,GACd,CAAG,CACH,CAEO,SAASE,EAAeC,EAAM,CACnC,KAAM,CAAE,OAAAC,CAAM,EAAK,OAAO,YAAY,IAAI,SAASD,CAAI,CAAC,EAExD,OAAOC,EAAO,MAChB,CCfA,MAAMD,EAAO,SAAS,cAAc,cAAc,EAElD,SAASE,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAM5B,EAAcwB,EAAeI,EAAM,aAAa,EAEtD,GAAI,CAAC5B,EAAa,CAChBqB,EAAiB,oCAAoC,EAErD,MACD,CAEDI,EAAK,MAAK,EACVf,IACAF,EAAW,EAAI,EAEfT,EAAYC,CAAW,EACpB,KAAKY,GAAU,CACd,GAAI,CAACA,EAAO,OAAQ,CAClBS,EACE,2EACV,EACQ,MACD,CAEDV,EAAaC,CAAM,CACzB,CAAK,EACA,MAAMiB,GAAS,CACdR,EACEQ,EAAM,SAAW,kDACzB,EACM,QAAQ,MAAMA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAMrB,EAAW,EAAK,CAAC,CACpC,CAEAiB,EAAK,iBAAiB,SAAUE,CAAY"}